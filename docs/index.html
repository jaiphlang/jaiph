<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jaiph — AI Workflow DSL</title>

    <style>
        :root {
            --navy: #1f2a37;
            --navy-light: #2b3a4d;
            --orange: #fca228;
            --orange-soft: #e8a75a;
            --bg: #f4f1ec;
            --text: #2a2a2a;
            --muted: #6b7280;
            --link: #5389b0;
        }

        * {
            box-sizing: border-box;
        }

        img {
            max-width: 100%;
            height: auto;
        }

        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            font-size: 1.25rem;
        }

        header {
            background: url(data:image/webp;base64,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);
            padding: 3rem 1.5rem;
            text-align: center;
            border-bottom: 1rem solid var(--muted);
            color: var(--text);
        }

        .logo {
            font-size: 2.8rem;
            font-weight: 700;
            letter-spacing: 1px;
        }

        .logo span {
            color: var(--orange);
        }

        .tagline {
            margin-top: 1rem;
            font-size: 1.1rem;
            color: var(--text);
            font-weight: bold;
            font-size: 1.3rem;
        }

        .tagline .separator {
            margin: 0 0.75rem;
            color: var(--orange);
            line-height: inherit;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2.5rem 1.5rem;
        }

        h2 {
            color: var(--navy);
            margin-top: 2.5rem;
        }

        a {
            color: var(--link);
        }

        .card {
            background: white;
            border-radius: 10px;
            padding: 1.5rem 2.5rem;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
            margin-top: 1rem;
        }

        .small {
            font-size: 1rem;
            color: var(--muted);
        }

        .warning {
            color: var(--orange-soft);
        }

        pre {
            background: #f6f8fa;
            color: #24292f;
            padding: 2rem 0;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.9rem;
            border: 1px solid #d0d7de;
            position: relative;
        }

        code {
            font-family: "Fira Code", monospace;
            color: #24292f;
        }

        code:not(pre code) {
            font-size: 0.9rem;
            background: #f6f8fa;
            border: 1px solid #d0d7de;
            border-radius: 6px;
            padding: 0.2rem 0.35rem;
        }

        pre code {
            display: block;
            white-space: pre;
            counter-reset: line;
        }

        pre code .code-line {
            display: block;
            padding-left: 4em;
            position: relative;
            white-space: pre;
        }

        pre code .code-line::before {
            counter-increment: line;
            content: counter(line);
            color: #8c959f;
            position: absolute;
            left: 0;
            width: 2.25rem;
            text-align: right;
            user-select: none;
        }

        .copy-code-button {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            border: 1px solid #d0d7de;
            border-radius: 6px;
            background: white;
            color: #24292f;
            font-size: 0.75rem;
            font-weight: 600;
            padding: 0.25rem 0.6rem;
            cursor: pointer;
            transition: background 0.15s ease;
        }

        .copy-code-button:hover {
            background: #f3f4f6;
        }

        .code-tab-list {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
        }

        .code-tab-button {
            border: 1px solid #d0d7de;
            border-radius: 8px;
            background: white;
            color: var(--muted);
            font-size: 0.9rem;
            font-weight: 600;
            font-family: "Fira Code", monospace;
            padding: 0.45rem 0.9rem;
            cursor: pointer;
        }

        .code-tab-button.is-active {
            background: #e7f3ff;
            border-color: #80bfff;
            color: #0550ae;
        }

        .code-tab-hint {
            color: var(--muted);
            font-size: 0.85rem;
        }

        .code-tab-panel {
            display: none;
        }

        .code-tab-panel.is-active {
            display: block;
        }

        .primitive-list {
            margin: 0.5rem 0 0;
        }

        .primitive-list dt {
            font-weight: 600;
            margin-top: 0.65rem;
        }

        .primitive-list dd {
            margin: 0.2rem 0 0.6rem 1.25rem;
            color: var(--text);
        }

        .footer {
            margin-top: 4rem;
            padding: 2rem;
            text-align: center;
            font-size: 0.9rem;
            color: var(--muted);
        }

        .button {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.6rem 1.2rem;
            background: var(--orange);
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            transition: 0.2s ease;
        }

        .button:hover {
            background: var(--orange-soft);
        }

        header h1 img {
            width: min(420px, 100%);
            height: auto;
        }

        @media (max-width: 768px) {
            body {
                font-size: 1rem;
            }

            header {
                padding: 2rem 1rem;
            }

            .tagline {
                font-size: 1rem;
                line-height: 1.5;
            }

            .tagline .separator {
                margin: 0 0.4rem;
            }

            .container {
                padding: 1.5rem 1rem;
            }

            .card {
                padding: 1rem 1rem;
                border-radius: 8px;
            }

            h2 {
                margin-top: 1.8rem;
                font-size: 1.35rem;
            }

            pre {
                font-size: 0.82rem;
                padding: 1.5rem 0;
            }

            pre code .code-line {
                padding-left: 3.2em;
            }

            .code-tab-list {
                flex-wrap: wrap;
            }

            .code-tab-button {
                font-size: 0.82rem;
                padding: 0.4rem 0.75rem;
            }
        }


        /* Keywords */
        .ralph-keyword {
            color: #cf222e;
            font-weight: 600;
        }

        /* Rule / workflow names */
        .ralph-definition {
            color: #8250df;
        }

        /* Qualified prefix */
        .ralph-qualifier {
            color: #6639ba;
        }

        /* Identifier */
        .ralph-identifier {
            color: #0550ae;
        }

        /* Strings */
        .ralph-string {
            color: #0a3069;
        }

        /* Comments */
        .ralph-comment {
            color: #6e7781;
            font-style: italic;
        }
    </style>
</head>

<body>

    <header>
        <h1><img src="logo.png" alt="Jaiph" width="420" /></h1>
        <div class="tagline">
            Open Source<span class="separator">•</span>Powerful<span class="separator">•</span>Friendly!
        </div>
    </header>

    <div class="container">

        <section>
            <h2>What is Jaiph?</h2>
            <div class="card">
                <p>
                    <strong>Jaiph</strong> is a composable scripting language and runtime for defining and orchestrating AI agent workflows.
                </p>
                <p>
                    It combines the power of declarative languages with bash to create portable and easy-to-understand
                    AI agent workflows. It compiles to pure bash, making it fully compatible with existing shell
                    environments.
                </p>
                <p class="small"><strong class="warning">⚠ Jaiph is still in an early stage.</strong><br />You may
                    expect breaking changes. You may also have a great impact as an early contributor.</p>
                <p>
                    <a href="https://github.com/jaiphlang/jaiph/tree/main/docs" target="_blank"
                        rel="noopener noreferrer" class="button">Docs</a>
                    <a href="https://github.com/jaiphlang/jaiph/tree/main/samples" target="_blank"
                        rel="noopener noreferrer" class="button">Samples</a>
                    <a href="https://marketplace.visualstudio.com/items?itemName=jaiph.jaiph-syntax-vscode"
                        target="_blank" rel="noopener noreferrer" class="button">VS Code Syntax Plugin</a>
                    <a href="https://github.com/jaiphlang/jaiph/issues" target="_blank" rel="noopener noreferrer"
                        class="button">Contribute</a>
                </p>
                <!-- <p>Jaiph comes also with a control panel to manage and monitor your workflows.</p> -->
            </div>
        </section>

        <section>
            <h2>Example</h2>
            <div class="card">
                <div class="code-tab-list">
                    <button type="button" class="code-tab-button is-active" data-target="main-jph">main.jph</button>
                    <span class="code-tab-hint">transpiles to: </span>
                    <button type="button" class="code-tab-button" data-target="main-sh">main.sh</button>
                </div>

                <div class="code-tab-panel is-active" data-panel="main-jph">
                    <pre><code class="language-jaiph">#!/usr/bin/env jaiph

import "security.jph" as security
import "bootstrap_project.jph" as bootstrap

# Validates local build prerequisites.
rule project_ready {
  test -f "package.json"
  test -n "$NODE_ENV"
}

# Verifies the project compiles successfully.
rule build_passes {
  npm run build
}

# Orchestrates checks, prompt execution, and docs refresh.
# Arguments:
#   $1: Feature requirements passed to the prompt.
workflow default {
  if ! ensure project_ready; then
    run bootstrap.nodejs
  fi
  
  prompt "
    Build the application using best practices.
    Follow requirements: $1
  "
  
  ensure build_passes
  ensure security.scan_passes

  run update_docs
}

# Refreshes documentation after a successful build.
workflow update_docs {
  prompt "Update docs"
}</code></pre>
                </div>

                <div class="code-tab-panel" data-panel="main-sh">
                    <pre><code class="language-bash">set -euo pipefail
jaiph_stdlib_path="${JAIPH_STDLIB:-$HOME/.local/bin/jaiph_stdlib.sh}"
if [[ ! -f "$jaiph_stdlib_path" ]]; then
  echo "jai: stdlib not found at $jaiph_stdlib_path (set JAIPH_STDLIB or reinstall jaiph)" >&2
  exit 1
fi
source "$jaiph_stdlib_path"
if [[ "$(jaiph__runtime_api)" != "1" ]]; then
  echo "jai: incompatible jaiph stdlib runtime (required api=1)" >&2
  exit 1
fi
source "$(dirname "${BASH_SOURCE[0]}")/bootstrap_project.sh"
source "$(dirname "${BASH_SOURCE[0]}")/tools/security.sh"

# Validates local build prerequisites.
main__rule_project_ready__impl() {
  test -f "package.json"
  test -n "$NODE_ENV"
}

main__rule_project_ready() {
  jaiph__run_step main__rule_project_ready jaiph__execute_readonly main__rule_project_ready__impl
}

# Verifies the project compiles successfully.
main__rule_build_passes__impl() {
  npm run build
}

main__rule_build_passes() {
  jaiph__run_step main__rule_build_passes jaiph__execute_readonly main__rule_build_passes__impl
}

# Orchestrates checks, prompt execution, and docs refresh.
# Arguments:
#   $1: Feature requirements passed to the prompt.
main__workflow_default__impl() {
  if ! main__rule_project_ready; then
    bootstrap_project__workflow_nodejs
  fi
  jaiph__prompt "
    Build the application using best practices.
    Follow requirements: $1
  "
  main__rule_build_passes
  tools__security__rule_scan_passes
  main__workflow_update_docs
}

main__workflow_default() {
  jaiph__run_step main__workflow_default main__workflow_default__impl "$@"
}

# Refreshes documentation after a successful build.
main__workflow_update_docs__impl() {
  jaiph__prompt "Update docs"
}

main__workflow_update_docs() {
  jaiph__run_step main__workflow_update_docs main__workflow_update_docs__impl "$@"
}</code></pre>
                </div>

            </div>
        </section>

        <section>
            <h2>Getting started</h2>
            <div class="card">
                <p>
                    The installation below uses Jaiph from the main branch in the GitHub repository:
                    <a href="https://github.com/jaiphlang/jaiph" target="_blank"
                        rel="noopener noreferrer">https://github.com/jaiphlang/jaiph</a>.
                    The specification is still in flux and may break in the future.
                    You may expect breaking changes.
                </p>
                <h3>Installation</h3>
                <pre><code class="language-bash">curl -fsSL https://jaiph.org/install | bash</code></pre>
                <p>
                    Then verify the installation:
                </p>
                <pre><code class="language-bash">jaiph --version</code></pre>
                <p>Switch installed version:</p>
                <pre><code class="language-bash">jaiph use nightly
jaiph use 0.2.3</code></pre>
                <p>In case of an error, check if <code>~/.local/bin</code> is in your PATH. This is the default
                    installation directory.</p>
                <p>Installation places both <code>jaiph</code> and global runtime stdlib at
                    <code>~/.local/bin/jaiph_stdlib.sh</code>.</p>
                <h3>Running a workflow</h3>
                <pre><code class="language-bash">./path/to/main.jph "feature request or task"</code></pre>
                <p><strong>Argument passing:</strong> values map like bash scripts (<code>$1</code>, <code>$2</code>,
                    <code>"$@"</code>).
                </p>
                <p><strong>Entrypoint resolution:</strong> executable <code>.jph</code> files with shebang run
                    <code>workflow default</code>. You can also use <code>jaiph run path/to/file.jph</code> with the
                    same argument semantics.
                </p>
                <h3>Initialize Jaiph workspace</h3>
                <pre><code class="language-bash">jaiph init</code></pre>
                <p>This creates <code>.jaiph/bootstrap.jph</code>, <code>.jaiph/config.toml</code>, and
                    <code>.jaiph/jaiph-skill.md</code> (synced from local Jaiph installation).</p>
                <p>Then run:</p>
                <pre><code class="language-bash">./.jaiph/bootstrap.jph</code></pre>
                <p>This asks an agent to detect project configuration and bootstrap recommended Jaiph workflows for
                    feature implementation.</p>
                <p>Tip: add <code>.jaiph/runs/</code> to your <code>.gitignore</code>.</p>
                <h3>Configuration</h3>
                <p>Jaiph supports TOML configuration in two scopes:</p>
                <ul>
                    <li>Global: <code>${XDG_CONFIG_HOME:-~/.config}/jaiph/config.toml</code></li>
                    <li>Local: <code>.jaiph/config.toml</code> (workspace root)</li>
                </ul>
                <p>Local config overrides global config. For supported keys and precedence, read
                    <a href="https://github.com/jaiphlang/jaiph/blob/main/docs/configuration.md" target="_blank"
                        rel="noopener noreferrer">configuration docs</a>.
                </p>
                <p>For command syntax and flags, read
                    <a href="https://github.com/jaiphlang/jaiph/blob/main/docs/cli.md" target="_blank"
                        rel="noopener noreferrer">CLI reference</a>.
                </p>
            </div>
        </section>

        <section>
            <h2>Documentation</h2>
            <div class="card">
                <dl class="primitive-list">
                    <dt><code>import "file.jph" as alias</code></dt>
                    <dd>Imports rules and workflows from another Jaiph module under an alias. Jaiph compiles each module
                        to a single shell file, and verifies the import at compile time.</dd>

                    <dt><code>rule name { ... }</code></dt>
                    <dd>Defines a reusable check/action that returns a shell exit code. The rule is executed in a
                        read-only subshell, and its stdout is preserved. The rule fails if the command returns a non-zero
                        exit code. Rules can consume positional parameters (<code>$1</code>, <code>$2</code>,
                        <code>"$@"</code>) forwarded by <code>ensure</code>.</dd>

                    <dt><code>workflow name { ... }</code></dt>
                    <dd>Defines an orchestration entrypoint made of ordered steps. As opposed to rules, workflows can
                        change the state of the system and are not restricted to read-only operations. Workflows fail if
                        the script returns a non-zero exit code.

                    <dt><code>ensure ref [args...]</code></dt>
                    <dd>Executes a rule in a workflow or another rule, optionally forwarding arguments (for example:
                        <code>ensure my_rule "$1"</code>).
                    </dd>

                    <dt><code>run ref</code></dt>
                    <dd>Executes another workflow in a workflow or another rule.</dd>

                    <dt><code>prompt "..."</code></dt>
                    <dd>Sends prompt text to the configured agent command (with optional model from config) and stores
                        prompt stdout/stderr in
                        <code>.jaiph/runs/</code> step logs (for example:
                        <code>*-jaiph__prompt.out</code> and <code>*-jaiph__prompt.err</code>).</dd>
                </dl>

                <p>All language primitives can be freely combined with bash code—they are not isolated or blocking, but
                    instead are interoperable with standard shell scripting within your workflows and rules.</p>
                <h3>Known limitations and gotchas</h3>
                <ul>
                    <li><strong>Parser limitation:</strong> inline brace-group short-circuit patterns like
                        <code>cmd || { ... }</code> are not supported in <code>.jph</code> files yet. Use explicit
                        conditionals such as <code>if ! cmd; then ...; fi</code> instead.
                    </li>
                    <li><strong>Entrypoint naming:</strong> <code>jaiph run</code> searches for
                        <code>workflow default</code> as the entrypoint for runnable files. If the file does not contain
                        a default entrypoint, the command will fail.
                    </li>
                </ul>

                <p>
                    Additional references:
                    <a href="https://github.com/jaiphlang/jaiph/blob/main/docs/grammar.md" target="_blank"
                        rel="noopener noreferrer">Grammar</a>
                    ·
                    <a href="https://github.com/jaiphlang/jaiph/blob/main/docs/jaiph-skill.md" target="_blank"
                        rel="noopener noreferrer">Agent bootstrap guide</a>
                    ·
                    <a href="https://github.com/jaiphlang/jaiph/blob/main/docs/configuration.md" target="_blank"
                        rel="noopener noreferrer">Configuration</a>
                    ·
                    <a href="https://github.com/jaiphlang/jaiph/blob/main/docs/cli.md" target="_blank"
                        rel="noopener noreferrer">CLI reference</a>
                </p>
                <a href="https://github.com/jaiphlang/jaiph/tree/main/docs" target="_blank" rel="noopener noreferrer"
                    class="button">Open docs repository</a>
            </div>
        </section>

    </div>

    <div class="footer">
        © 2026 Jaiph — Open Source · Powerful · Friendly!
    </div>

</body>

</html>


<script>
    (function () {

        function escapeHTML(str) {
            return str
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;");
        }

        const STATEMENT_KEYWORDS = new Set([
            "import",
            "rule",
            "workflow",
            "ensure",
            "run",
            "prompt",
            "if",
            "then",
            "fi"
        ]);

        /**
         * Tokenizes one Jaiph line while preserving multiline-string state.
         *
         * Args:
         *   line: Source line.
         *   state: Mutable lexer state ({ inString: boolean }).
         * Returns:
         *   Array of token objects.
         */
        function tokenizeJaiphLine(line, state) {
            const tokens = [];
            let i = 0;

            while (i < line.length) {
                const ch = line[i];

                if (state.inString) {
                    const start = i;
                    while (i < line.length) {
                        if (line[i] === '"' && line[i - 1] !== "\\") {
                            i += 1;
                            state.inString = false;
                            break;
                        }
                        i += 1;
                    }
                    tokens.push({ type: "string", value: line.slice(start, i), kind: "string" });
                    continue;
                }

                if (ch === " " || ch === "\t") {
                    const start = i;
                    while (i < line.length && (line[i] === " " || line[i] === "\t")) {
                        i += 1;
                    }
                    tokens.push({ type: "whitespace", value: line.slice(start, i), kind: "plain" });
                    continue;
                }

                if (ch === "/" && line[i + 1] === "/") {
                    tokens.push({ type: "comment", value: line.slice(i), kind: "comment" });
                    break;
                }

                if (ch === "#") {
                    tokens.push({ type: "comment", value: line.slice(i), kind: "comment" });
                    break;
                }

                if (ch === '"') {
                    const start = i;
                    i += 1;
                    while (i < line.length) {
                        if (line[i] === '"' && line[i - 1] !== "\\") {
                            i += 1;
                            break;
                        }
                        i += 1;
                    }
                    if (i >= line.length && line[i - 1] !== '"') {
                        state.inString = true;
                    }
                    tokens.push({ type: "string", value: line.slice(start, i), kind: "string" });
                    continue;
                }

                if (/[A-Za-z_]/.test(ch)) {
                    const start = i;
                    i += 1;
                    while (i < line.length && /[A-Za-z0-9_]/.test(line[i])) {
                        i += 1;
                    }
                    const value = line.slice(start, i);
                    tokens.push({
                        type: "identifier",
                        value: value,
                        kind: "plainIdentifier"
                    });
                    continue;
                }

                if (ch === ".") {
                    tokens.push({ type: "dot", value: ".", kind: "plain" });
                    i += 1;
                    continue;
                }

                tokens.push({ type: "symbol", value: ch, kind: "plain" });
                i += 1;
            }

            return tokens;
        }

        /**
         * Applies semantic meaning to Jaiph tokens (AST-like annotation pass).
         *
         * Args:
         *   tokens: Flat token list for one line.
         * Returns:
         *   New token list with refined token kinds.
         */
        function annotateJaiphTokens(tokens) {
            const annotated = tokens.map(function (token) {
                return { type: token.type, value: token.value, kind: token.kind };
            });

            const significant = annotated
                .map(function (token, index) {
                    return { token: token, index: index };
                })
                .filter(function (entry) {
                    return entry.token.type !== "whitespace" && entry.token.type !== "comment";
                });

            if (significant.length === 0) {
                return annotated;
            }

            const first = significant[0];
            const firstValue = first.token.type === "identifier" ? first.token.value : "";

            if (
                first.token.type === "identifier" &&
                STATEMENT_KEYWORDS.has(firstValue)
            ) {
                annotated[first.index].kind = "keyword";
            }

            if (
                (firstValue === "rule" || firstValue === "workflow") &&
                significant[1] &&
                significant[1].token.type === "identifier"
            ) {
                annotated[significant[1].index].kind = "definition";
            }

            if (firstValue === "import") {
                for (let i = 1; i < significant.length - 1; i += 1) {
                    if (
                        significant[i].token.type === "identifier" &&
                        significant[i].token.value === "as" &&
                        significant[i + 1].token.type === "identifier"
                    ) {
                        annotated[significant[i].index].kind = "keyword";
                        annotated[significant[i + 1].index].kind = "qualifier";
                        break;
                    }
                }
            }

            if (firstValue === "if") {
                for (let i = 1; i < significant.length; i += 1) {
                    if (
                        significant[i].token.type === "identifier" &&
                        significant[i].token.value === "then"
                    ) {
                        annotated[significant[i].index].kind = "keyword";
                    }
                }

                for (let i = 1; i < significant.length - 1; i += 1) {
                    if (
                        significant[i].token.type === "identifier" &&
                        (significant[i].token.value === "ensure" || significant[i].token.value === "run")
                    ) {
                        annotated[significant[i].index].kind = "keyword";
                        if (significant[i + 1].token.type === "identifier") {
                            annotated[significant[i + 1].index].kind = "identifier";
                        }
                        break;
                    }
                }
            }

            for (let i = 0; i < annotated.length - 2; i += 1) {
                if (
                    annotated[i].type === "identifier" &&
                    annotated[i + 1].type === "dot" &&
                    annotated[i + 2].type === "identifier"
                ) {
                    annotated[i].kind = "qualifier";
                    annotated[i + 2].kind = "identifier";
                }
            }

            if (firstValue === "ensure" || firstValue === "run") {
                if (significant[1] && significant[1].token.type === "identifier") {
                    annotated[significant[1].index].kind = "identifier";
                }
            }

            if (firstValue === "ensure") {
                for (let i = 1; i < significant.length; i += 1) {
                    if (
                        significant[i].token.type === "identifier" &&
                        significant[i].token.value === "else"
                    ) {
                        annotated[significant[i].index].kind = "keyword";
                        if (
                            significant[i + 1] &&
                            significant[i + 1].token.type === "identifier" &&
                            significant[i + 1].token.value === "run"
                        ) {
                            annotated[significant[i + 1].index].kind = "keyword";
                            if (significant[i + 2] && significant[i + 2].token.type === "identifier") {
                                annotated[significant[i + 2].index].kind = "identifier";
                            }
                        }
                        break;
                    }
                }
            }

            return annotated;
        }

        /**
         * Builds an AST-like representation for a full Jaiph code block.
         *
         * Args:
         *   raw: Full source block.
         * Returns:
         *   Array of line nodes with annotated tokens.
         */
        function parseJaiph(raw) {
            const state = { inString: false };
            return raw.split("\n").map(function (line, lineIndex) {
                const tokens = tokenizeJaiphLine(line, state);
                return {
                    type: "line",
                    lineNumber: lineIndex + 1,
                    tokens: annotateJaiphTokens(tokens)
                };
            });
        }

        /**
         * Renders one token to highlighted HTML.
         *
         * Args:
         *   token: Annotated token object.
         * Returns:
         *   HTML-safe token string.
         */
        function renderJaiphToken(token) {
            const value = escapeHTML(token.value);
            if (token.kind === "keyword") {
                return `<span class="ralph-keyword">${value}</span>`;
            }
            if (token.kind === "definition") {
                return `<span class="ralph-definition">${value}</span>`;
            }
            if (token.kind === "qualifier") {
                return `<span class="ralph-qualifier">${value}</span>`;
            }
            if (token.kind === "identifier") {
                return `<span class="ralph-identifier">${value}</span>`;
            }
            if (token.kind === "string") {
                return `<span class="ralph-string">${value}</span>`;
            }
            if (token.kind === "comment") {
                return `<span class="ralph-comment">${value}</span>`;
            }
            return value;
        }

        /**
         * Parses and renders Jaiph with line wrappers for numbering.
         *
         * Args:
         *   raw: Full Jaiph source block.
         * Returns:
         *   HTML string containing .code-line rows.
         */
        function highlightJaiphWithParser(raw) {
            const ast = parseJaiph(raw);
            return ast
                .map(function (lineNode) {
                    const html = lineNode.tokens.map(renderJaiphToken).join("");
                    return `<span class="code-line">${html || "&nbsp;"}</span>`;
                })
                .join("");
        }

        function highlightBashFragment(fragment) {
            let code = escapeHTML(fragment);
            const stringTokens = [];
            code = code.replace(/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'/g, function (match) {
                const token = `___BSTR_${stringTokens.length}___`;
                stringTokens.push(match);
                return token;
            });

            code = code.replace(
                /\b(set|source|if|then|fi|local|return|export|function)\b/g,
                '<span class="ralph-keyword">$1</span>'
            );
            code = code.replace(
                /\$[A-Za-z_][A-Za-z0-9_]*/g,
                '<span class="ralph-identifier">$&</span>'
            );

            code = code.replace(/___BSTR_(\d+)___/g, function (_, idx) {
                return `<span class="ralph-string">${stringTokens[Number(idx)]}</span>`;
            });

            return code;
        }

        function highlightBashWithParser(raw) {
            return raw
                .split("\n")
                .map(function (line) {
                    const trimmed = line.trim();
                    if (!trimmed) {
                        return '<span class="code-line">&nbsp;</span>';
                    }
                    if (trimmed.startsWith("#")) {
                        return `<span class="code-line"><span class="ralph-comment">${escapeHTML(line)}</span></span>`;
                    }
                    const fnDeclMatch = line.match(/^(\s*)([A-Za-z_][A-Za-z0-9_]*)(\(\)\s*\{.*)$/);
                    if (fnDeclMatch) {
                        const rendered =
                            escapeHTML(fnDeclMatch[1]) +
                            `<span class="ralph-definition">${fnDeclMatch[2]}</span>` +
                            highlightBashFragment(fnDeclMatch[3]);
                        return `<span class="code-line">${rendered}</span>`;
                    }
                    return `<span class="code-line">${highlightBashFragment(line)}</span>`;
                })
                .join("");
        }

        /**
         * Applies highlighting and line numbers to all pre/code blocks.
         *
         * Args:
         *   None.
         * Returns:
         *   None.
         */
        function highlightAll() {
            document.querySelectorAll("pre code").forEach(block => {
                const raw = block.textContent;
                block.dataset.copySource = raw;
                const isJaiphBlock = block.matches(".language-ralph, .language-jaiph");
                const isBashBlock = block.matches(".language-bash");
                const rendered = isJaiphBlock
                    ? highlightJaiphWithParser(raw)
                    : isBashBlock
                        ? highlightBashWithParser(raw)
                        : raw
                            .split("\n")
                            .map(function (line) {
                                return `<span class="code-line">${escapeHTML(line) || "&nbsp;"}</span>`;
                            })
                            .join("");
                block.innerHTML = rendered;
            });
        }

        function legacyCopyText(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.setAttribute("readonly", "");
            textArea.style.position = "fixed";
            textArea.style.top = "-9999px";
            textArea.style.left = "-9999px";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            let copied = false;
            try {
                copied = document.execCommand("copy");
            } catch (_) {
                copied = false;
            }
            document.body.removeChild(textArea);
            return copied;
        }

        async function writeTextToClipboard(text) {
            if (
                window.isSecureContext &&
                navigator.clipboard &&
                typeof navigator.clipboard.writeText === "function"
            ) {
                await navigator.clipboard.writeText(text);
                return true;
            }
            return legacyCopyText(text);
        }

        async function copyCodeFromBlock(button, block) {
            const originalLabel = button.textContent;
            const copySource = block.dataset.copySource != null ? block.dataset.copySource : (block.textContent || "");
            try {
                const copied = await writeTextToClipboard(copySource);
                button.textContent = copied ? "Copied!" : "Copy failed";
            } catch (error) {
                button.textContent = legacyCopyText(copySource) ? "Copied!" : "Copy failed";
            }
            window.setTimeout(function () {
                button.textContent = originalLabel;
            }, 1400);
        }

        function attachCopyButtons() {
            document.querySelectorAll("pre").forEach(function (pre) {
                if (pre.querySelector(".copy-code-button")) {
                    return;
                }
                const block = pre.querySelector("code");
                if (!block) {
                    return;
                }
                const button = document.createElement("button");
                button.type = "button";
                button.className = "copy-code-button";
                button.textContent = "Copy";
                button.addEventListener("click", function () {
                    copyCodeFromBlock(button, block);
                });
                pre.appendChild(button);
            });
        }

        function attachCodeTabs() {
            const buttons = document.querySelectorAll(".code-tab-button");
            buttons.forEach(function (button) {
                button.addEventListener("click", function () {
                    const target = button.getAttribute("data-target");
                    if (!target) {
                        return;
                    }

                    document.querySelectorAll(".code-tab-button").forEach(function (btn) {
                        btn.classList.toggle("is-active", btn === button);
                    });

                    document.querySelectorAll(".code-tab-panel").forEach(function (panel) {
                        panel.classList.toggle("is-active", panel.getAttribute("data-panel") === target);
                    });
                });
            });
        }

        // Auto-run on DOM ready
        if (document.readyState === "loading") {
            document.addEventListener("DOMContentLoaded", function () {
                highlightAll();
                attachCopyButtons();
                attachCodeTabs();
            });
        } else {
            highlightAll();
            attachCopyButtons();
            attachCodeTabs();
        }

    })();
</script>